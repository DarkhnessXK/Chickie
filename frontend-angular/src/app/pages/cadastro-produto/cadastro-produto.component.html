<h2>Cadastrar Produto</h2>

<div>
  Descricao
  <input
    type="text"
    name="descricao"
    id="descricao-input"
    (keyup.enter)="cadastrarProduto()"
    [(ngModel)]="descricaoValue"
  >

  Nome
  <input
    type="text"
    name="nome"
    id="nome-input"
    (keyup.enter)="cadastrarProduto()"
    [(ngModel)]="nomeValue"
  >

  preco
  <input
    type="number"
    name="preco"
    id="preco-input"
    (keyup.enter)="cadastrarProduto()"
    [(ngModel)]="precoValue"
  >

  categoria
  <select
    name=""
    id="categoria-input"
    [(ngModel)]="categoriaValue"
  >

    <option value="">Escolha uma categoria...</option>

    @for (categoria of companyCategorias.value; track $index) {
      <option
        id="op-cat-{{ categoria.uuid }}"
        value="{{ categoria.uuid }}">
          {{ categoria.nome }}
      </option>
    }

  </select>

  <button (click)="cadastrarProduto()">
    Cadastrar
  </button>
</div>

@if (companyProducts.value.length) {
  <h2>Produtos</h2>
  @for (produto of companyProducts.value; track $index) {
    <div>
      Nome:
      <a [routerLink]="['/loja/produtos', produto.uuid]">
        {{ produto.nome }}</a> ,
      <br />
      Descrição: {{ produto.descricao }}</div>
      Categoria: {{ produto.categoria?.nome }}
    <br />
    <br />
  }
}

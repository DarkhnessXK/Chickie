
<div>
  <div>
    Nome
    <input
      type="text"
      id="nome-input"
      (keyup.enter)="registerCategoria($event)"
      [(ngModel)]="nomeValue"
    >
    Descricao
    <input
      type="text"
      id="descricao-input"
      (keyup.enter)="registerCategoria($event)"
      [(ngModel)]="descricaoValue"
    >

    <button (click)="registerCategoria($event)" id="btn_cad">
      Cadastrar
    </button>
  </div>
</div>

<h1>Categorias:</h1>

@if (!loading) {
  <div id="table-container">
    @if (categorias.value.length) {
      <table id="categoria_table">
        <thead>
          <tr>
            <th>Nome</th>
            <th>Descricao</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          @for (categoria of categorias.value; track $index) {
            <tr>
              <td>
                <a [routerLink]="['/loja/categorias', categoria.uuid]">
                  {{  categoria.nome  }}
                </a>
              </td>
              <td>{{ categoria.descricao }}</td>
              <td>
                <button (click)="deleteCategoria($event, categoria)">
                  Delete
                </button>
              </td>
            </tr>
          }
        </tbody>
    </table>
    } @else {
      <strong>Nenhuma categoria encontrada!</strong>
    }
  </div>
} @else {
  <strong>loading...</strong>
}
